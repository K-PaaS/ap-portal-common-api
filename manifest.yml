applications:
- name: portal-common-api
  memory: 1G
  instances: 1
  buildpacks:
  - java_buildpack
  path: build/libs/paas-ta-portal-common-api.jar
  env:
    server_port: 80

    spring_application_name: PortalCommonApi

    spring_security_username: admin
    spring_security_password: openpaasta

    datasource_cc_driver-class-name: com.mysql.jdbc.Driver                                         # (e.g. org.postgresql.Driver OR com.mysql.jdbc.Driver)
    datasource_cc_url: jdbc:mysql://10.0.1.119:13307/cloud_controller  # (e.g. PAAS-TA_DATABASE :: postgresql OR mysql)
    datasource_cc_username: cloud_controller
    datasource_cc_password: cc_admin
    datasource_portal_driver-class-name: org.mariadb.jdbc.Driver
    datasource_portal_url: jdbc:mariadb://10.0.1.121:13306/portaldb          # (e.g. PORTAL_DB_IP : portal-container-infra IP)
    datasource_portal_username: root
    datasource_portal_password: Paasta@2019
    datasource_uaa_driver-class-name: com.mysql.jdbc.Driver                                          # (e.g. org.postgresql.Driver OR com.mysql.jdbc.Driver)
    datasource_uaa_url: jdbc:mysql://10.0.1.119:13307/uaa  # (e.g. PAAS-TA_DATABASE :: postgresql OR mysql)
    datasource_uaa_username: uaa
    datasource_uaa_password: uaa_admin

    jpa_show-sql: true
    jpa_hibernate_ddl-auto: none
    jpa_hibernate_naming_strategy: org.hibernate.dialect.MySQL5Dialect
    jpa_generate-ddl: false

    mail_smtp_host: smtp.gmail.com                                         # (e.g. smtp.gmail.com)
    mail_smtp_port: 465                                         # (e.g. 465)
    mail_smtp_username: dyoonnam                                 # (e.g. paasta)
    mail_smtp_password: crossent                                 # (e.g. paasta)
    mail_smtp_useremail: dyoonnam@crossent.com                               # (e.g. paas-ta@gmail.com)
    mail_smtp_properties_auth: true
    mail_smtp_properties_starttls_enable: true
    mail_smtp_properties_starttls_required: true
    mail_smtp_properties_maximumTotalQps: 90
    mail_smtp_properties_authUrl: http://portal-web-user.10.0.1.221.nip.io      # (e.g. portal-web-user.10.0.1.221.nip.io)
    mail_smtp_properties_charset: UTF-8
    mail_smtp_properties_subject: "PaaS-TA User Potal"
    mail_smtp_properties_createUrl: authcreate
    mail_smtp_properties_expiredUrl: authreset
    mail_smtp_properties_inviteUrl: inviteorg

    paasta_portal_api_authorization_base64: Basic YWRtaW46b3BlbnBhYXN0YQ==
    paasta_portal_api_zuulUrl_cfapi: http://portal-gateway.10.0.1.221.nip.io/portalapi
    paasta_portal_api_zuulUrl_commonapi: http://portal-gateway.10.0.1.221.nip.io/commonapi
    paasta_portal_api_zuulUrl_storageapi: http://portal-gateway.10.0.1.221.nip.io/storageapi
    paasta_portal_storageapi_type: swift

    eureka_client_serviceUrl_defaultZone: http://portal-registration.10.0.1.221.nip.io/eureka/
    eureka_instance_hostname: ${vcap.application.uris[0]}
    eureka_instance_nonSecurePort: 80
